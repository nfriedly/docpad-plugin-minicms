// Generated by IcedCoffeeScript 1.8.0-a
(function() {
  module.exports = function() {
    if (this.shouldLoadScript) {
      coffeescript(function() {
        return window.minicms_component_text = function(prefix, form, name) {
          var field;
          field = $('#field-' + form + '-' + name);
          console.log(name + " = " + $('#' + form + '-form').data('fields')[name]);
          field.data('value', $('#' + form + '-form').data('fields')[name]);
          minicms_form_load(prefix, form, name);
          return $('input.form-value', field).on('change', function() {
            if ($(this).val() !== field.data('value')) {
              console.log(name + " = " + $(this).val());
              field.data('value', $(this).val());
              return minicms_form_update(prefix, form);
            }
          });
        };
      });
    }
    div('#field-' + this.form + '-' + this.field + '.control-group.form-component-text', function() {
      return div('.form-field-content', function() {
        label('.control-label', {
          "for": "form-input-" + this.form + "-" + this.field
        }, function() {
          return h(this.label);
        });
        return div('.controls', function() {
          return input('#form-input-' + this.form + '-' + this.field + '.form-value.input-xlarge.no-halo', {
            type: 'text',
            value: h(this.value != null ? this.value : ''),
            placeholder: h(this.label != null ? this.label : ''),
            name: this.field
          }, function() {});
        });
      });
    });
    return text('<script type="text/javascript">minicms_component_text("' + this.config.prefix.url + '", "' + this.form + '", "' + this.field + '");</script>');
  };

}).call(this);
